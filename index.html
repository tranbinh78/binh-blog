<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Binh Blog | Chia s·∫ª ti·∫øng Anh, l·∫≠p tr√¨nh & cu·ªôc s·ªëng</title>

  <meta name="description"
    content="Blog chia s·∫ª ki·∫øn th·ª©c ti·∫øng Anh, l·∫≠p tr√¨nh, h·ªçc t·∫≠p ‚Äî gi√∫p b·∫°n ph√°t tri·ªÉn k·ªπ nƒÉng v√† kh√°m ph√° cu·ªôc s·ªëng.">

  <link rel="icon" type="image/x-icon" href="/binh-blog/favicon.ico">

  <style>
    html { scroll-behavior: smooth; }
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: "Be Vietnam Pro", sans-serif;
      background: #fffdf9;
      color: #333;
      line-height: 1.85;
    }

    header {
      background: #d7f3e3;
      padding: 20px;
      text-align: center;
      border-bottom: 2px solid #cde7ff;
    }

    header h1 { font-size: 28px; margin-bottom: 10px; }

    nav a {
      margin: 0 12px;
      text-decoration: none;
      color: #333;
      padding: 6px 10px;
      border-radius: 6px;
    }

    nav a:hover { background: #cde7ff; }

    main {
      max-width: 800px;
      margin: 30px auto;
      padding: 0 15px;
    }

    /* CARD */
    .post-card {
      display: flex;
      background: white;
      border: 1px solid #e0d8ff;
      border-radius: 14px;
      overflow: hidden;
      margin-bottom: 25px;
    }

    .post-card img {
      width: 180px;
      object-fit: cover;
    }

    .post-info { padding: 16px; }

    a.btn {
      display: inline-block;
      background: #d7caff;
      padding: 10px 18px;
      border-radius: 10px;
      color: #333;
      text-decoration: none;
      margin-top: 10px;
    }

    /* MOBILE MENU */
    #hamburger {
      display: none;
      font-size: 30px;
      margin-top: 10px;
      cursor: pointer;
    }

    @media(max-width: 768px) {
      #hamburger { display: block; }

      nav {
        display: none;
        flex-direction: column;
        background: white;
        border: 1px solid #dcd3ff;
        padding: 15px;
        margin-top: 10px;
        border-radius: 10px;
      }

      nav.show { display: flex; }

      .post-card { flex-direction: column; }
      .post-card img { width: 100%; }
    }

    /* SEARCH BOX */
    #search-wrapper { position: relative; max-width: 500px; width: 100%; }
    #suggest-list {
      margin-top: 4px;
      background: white;
      border: 1px solid #ddd;
      border-radius: 6px;
      display: none;
      list-style: none;
      position: absolute;
      width: 100%;
      z-index: 99;
    }
    #suggest-list li { padding: 8px 12px; cursor: pointer; }
    #suggest-list li:hover { background: #f0f0ff; }

    /* PAGINATION */
    #pagination { text-align: center; margin-top: 25px; }
    .page-btn {
      padding: 8px 15px;
      margin: 3px;
      background: #f7f0ff;
      border-radius: 6px;
      cursor: pointer;
      border: 1px solid #d0c0ff;
    }
    .page-btn.active { background: #d7caff; font-weight: bold; }
  </style>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <header>
    <h1>Binh Blog</h1>
    <p>Chia s·∫ª ki·∫øn th·ª©c ti·∫øng Anh, l·∫≠p tr√¨nh & tr·∫£i nghi·ªám cu·ªôc s·ªëng</p>

    <div id="hamburger">‚ò∞</div>

    <nav>
      <a href="#" onclick="loadPosts()">Home</a>
      <a href="#" onclick="filterPosts('Ti·∫øng Anh')">Ti·∫øng Anh</a>
      <a href="#" onclick="filterPosts('L·∫≠p tr√¨nh')">L·∫≠p tr√¨nh</a>
      <a href="#" onclick="filterPosts('Cu·ªôc s·ªëng')">Cu·ªôc s·ªëng</a>
      <a href="/binh-blog/about.html">About</a>
      <a href="/binh-blog/contact.html">Contact</a>
    </nav>

    <button id="theme-toggle">Dark Mode</button>
  </header>

  <main>
    <!-- SEARCH BOX -->
    <div id="search-wrapper">
      <input type="text" id="search" placeholder="T√¨m b√†i vi·∫øt..." />
      <ul id="suggest-list" role="listbox" aria-label="G·ª£i √Ω t√¨m ki·∫øm"></ul>
    </div>

    <!-- POST LIST -->
    <div id="post-list">
      <p>ƒêang t·∫£i b√†i vi·∫øt...</p>
    </div>

    <!-- PAGINATION -->
    <div id="pagination" style="text-align:center; margin-top:25px;"></div>

  </main>

  <footer>
    <p>¬©2025 ‚Äî Binh Blog</p>

    <div class="social-links">
      <a href="https://mail.google.com/mail/?view=cm&to=tranbinhtlq12@gmail.com" target="_blank">Email</a> ¬∑
      <a href="https://facebook.com/binh.tran.599839" target="_blank">Facebook</a> ¬∑
      <a href="https://github.com/tranbinh78" target="_blank">GitHub</a>
    </div>
  </footer>

  <script>
/* === DARK MODE === */
const toggleBtn = document.getElementById("theme-toggle");
if (localStorage.getItem("theme") === "dark") {
  document.body.classList.add("dark");
  toggleBtn.textContent = "Light Mode";
}
toggleBtn.onclick = () => {
  document.body.classList.toggle("dark");
  const mode = document.body.classList.contains("dark") ? "dark" : "light";
  toggleBtn.textContent = mode === "dark" ? "Light Mode" : "Dark Mode";
  localStorage.setItem("theme", mode);
};
</script>

<script>
/* === HAMBURGER MENU === */
const ham = document.getElementById("hamburger");
const navMenu = document.querySelector("nav");

ham.onclick = () => navMenu.classList.toggle("show");
document.addEventListener("click", (e) => {
  if (!ham.contains(e.target) && !navMenu.contains(e.target)) {
    navMenu.classList.remove("show");
  }
});
document.querySelectorAll("nav a").forEach(a => {
  a.onclick = () => navMenu.classList.remove("show");
});
</script>

<script>
/* === GLOBAL DATA === */
let POSTS = [];
let currentPage = 1;
const POSTS_PER_PAGE = 5;

/* === LOAD POSTS === */
async function loadPosts(filterCategory = null) {
  const res = await fetch("/binh-blog/posts/posts.json");
  let data = await res.json();

  // Sort b√†i m·ªõi ‚Üí c≈©
  data.sort((a,b) => new Date(b.date) - new Date(a.date));

  // L∆∞u full ƒë·ªÉ ph√¢n trang & t√¨m ki·∫øm
  POSTS = filterCategory 
          ? data.filter(p => p.category === filterCategory)
          : data;

  currentPage = 1;
  renderPage(1);
}

/* === RENDER 1 PAGE === */
function renderPage(page) {
  currentPage = page;

  const start = (page - 1) * POSTS_PER_PAGE;
  const end   = start + POSTS_PER_PAGE;
  const items = POSTS.slice(start, end);

  const postList = document.getElementById("post-list");
  postList.innerHTML = "";

  items.forEach(post => {
    postList.innerHTML += `
      <article class="post-card">
        <img src="${post.thumbnail}">
        <div class="post-info">
          <h2>${post.title}</h2>
          <p class="desc">${post.description}</p>
          <p class="date">üìÖ ${post.date}</p>
          <a href="/binh-blog/posts/${post.file}" class="btn">ƒê·ªçc b√†i ‚Üí</a>
        </div>
      </article>`;
  });

  renderPagination();
}

/* === PAGINATION === */
function renderPagination() {
  const totalPages = Math.ceil(POSTS.length / POSTS_PER_PAGE);
  const pag = document.getElementById("pagination");

  pag.innerHTML = "";
  if (totalPages <= 1) return;

  if (currentPage > 1)
    pag.innerHTML += `<span class="page-btn" onclick="renderPage(${currentPage - 1})">‚Üê Tr∆∞·ªõc</span>`;

  for (let i = 1; i <= totalPages; i++) {
    pag.innerHTML += `
      <span class="page-btn ${i===currentPage?"active":""}" 
            onclick="renderPage(${i})">${i}</span>`;
  }

  if (currentPage < totalPages)
    pag.innerHTML += `<span class="page-btn" onclick="renderPage(${currentPage + 1})">Ti·∫øp ‚Üí</span>`;
}

/* === FILTER CATEGORY === */
function filterPosts(cat) {
  loadPosts(cat);
}

/* === SEARCH SUGGEST === */
function enableSearch() {
  const search = document.getElementById("search");
  const list = document.getElementById("suggest-list");

  let timer = null;

  search.addEventListener("input", () => {
    clearTimeout(timer);
    const q = search.value.trim().toLowerCase();
    if (!q) { list.style.display = "none"; return; }

    timer = setTimeout(() => {
      const results = POSTS.filter(p =>
        (p.title + p.description + p.category).toLowerCase().includes(q)
      ).slice(0, 6);

      if (!results.length) { list.style.display = "none"; return; }

      list.innerHTML = results.map(p =>
        `<li onclick="window.location.href='/binh-blog/posts/${p.file}'">
           <strong>${p.title}</strong><br>
           <small>${p.category} ¬∑ ${p.date}</small>
         </li>`
      ).join("");

      list.style.display = "block";
    }, 150);
  });

  document.addEventListener("click", e => {
    if (!search.contains(e.target)) list.style.display = "none";
  });
}

/* === START === */
loadPosts();
enableSearch();
</script>
